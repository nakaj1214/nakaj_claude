---
name: brainstorming
description: ソクラテス式ブレインストーミング。問いかけで要件を明確化し、設計を洗練する。実装前の設計フェーズで使用。
---

# ブレインストーミング スキル

ソクラテス式の問いかけで要件を明確化し、設計を磨き上げるためのプロセス。

## 使う場面

1. 新機能の要件が曖昧なとき
2. 複数のアプローチがあり得るとき
3. 設計の妥当性を検証したいとき
4. 関係者との認識合わせが必要なとき

## プロセス

### フェーズ1: 要件の明確化

**目的:** 「何を作るか」を明確にする

```markdown
## 要件の明確化

### 基本情報
- 機能名: [Name]
- 1行説明: [30文字以内]
- 誰が使うか: [User/Persona]
- いつ使うか: [Scene/Context]

### 質問リスト
1. この機能がないと何が問題になる？
2. 成功とは何か？どう測る？
3. 最小機能（MVP）は何か？
4. やってはいけないことは何か？
```

### フェーズ2: 制約の特定

**目的:** 技術・ビジネス制約をあぶり出す

```markdown
## 制約

### 技術的制約
- パフォーマンス要件: [応答時間、スループット]
- スケーラビリティ: [想定スケール]
- 既存システム互換: [依存関係]
- セキュリティ要件: [認証、認可、暗号化]

### ビジネス制約
- 期限: [日付]
- 予算: [コスト上限]
- チームスキル: [使える技術]
- 保守性: [誰が、どう保守するか]

### 外部制約
- 規制: [GDPR、業界規制など]
- 外部API制限: [レート制限、利用規約]
```

### フェーズ3: アプローチ評価

**目的:** 複数案を比較・評価する

```markdown
## アプローチ比較

### 選択肢A: [Name]
**概要:** [簡潔な説明]

| 観点 | 評価 |
|--------|--------|
| 実装難易度 | [低/中/高] |
| パフォーマンス | [低/中/高] |
| 保守性 | [低/中/高] |
| 拡張性 | [低/中/高] |

**Pros:**
- [利点1]
- [利点2]

**Cons:**
- [欠点1]
- [欠点2]

### 選択肢B: [Name]
...

### 推奨
**[Option X]**を推奨。理由: [根拠]
```

### フェーズ4: エッジケース特定

**目的:** 想定外の状況を先回りして洗い出す

```markdown
## エッジケース

### 入力に関するエッジケース
- 空入力
- 非常に長い入力
- 特殊文字を含む入力
- 不正な形式

### 状態に関するエッジケース
- 初回アクセス
- データが存在しない
- 同時アクセス
- 途中中断

### 外部依存のエッジケース
- APIが落ちている
- ネットワークが遅い
- 認証切れ

### 対応方針
| エッジケース | 対応 |
|-----------|----------|
| [Case 1] | [対応方法] |
| [Case 2] | [対応方法] |
```

## 質問テンプレート

### 要件を深掘りする質問

```
- なぜこの機能が必要？
- 誰が最も必要としている？
- この機能なしで目的を達成できる？
- 最重要の機能はどれ？
- 3か月後、この機能はどう使われている？
```

### 設計を検証する質問

```
- この設計は [特定ユースケース] に耐えられる？
- 将来的に [想定変更] が必要になったら？
- もっとシンプルな方法はない？
- 似た問題を解く既存の仕組みはある？
- 何が一番壊れそう？
```

### リスクを特定する質問

```
- 最悪のケースは何？
- この機能が失敗したらユーザーはどうする？
- セキュリティ上の懸念はある？
- パフォーマンスのボトルネックはどこ？
- テストしにくい箇所はどこ？
```

## 実践例

### 例: ユーザー認証機能

**フェーズ1: 要件の明確化**
```
Q: なぜ認証が必要？
A: ユーザーごとにデータを分けるため

Q: 認証方式は？
A: メール/パスワード必須、SNSログインは後回し

Q: セッション管理は？
A: JWT、7日有効
```

**フェーズ2: 制約の特定**
```
- 既存のユーザーDBと統合必須
- GDPR準拠が必要
- モバイルアプリからも利用
```

**フェーズ3: アプローチ評価**
```
A: 自前実装 ・ 制御は高いが工数が大きい
B: Auth0 ・ 早いが高コスト
C: Firebase Auth ・ バランスが良い

推奨: C（既存のGCP環境と高い互換性）
```

**フェーズ4: エッジケース**
```
- パスワードリセットフロー
- アカウントロックアウト
- 同時セッション制限
- トークン更新失敗
```

## 出力フォーマット

ブレインストーミング後は、以下の形式で要約する:

```markdown
# [機能名] 設計概要

## 目的
[1〜2文の説明]

## 要件
- 必須: [一覧]
- 任意: [一覧]
- 対象外: [一覧]

## 制約
- [制約1]
- [制約2]

## 採用アプローチ
[選択肢と理由]

## 主要なエッジケース
| ケース | 対応 |
|------|----------|
| ... | ... |

## 未解決の質問
- [追加調査が必要な項目]

## 次のステップ
1. [行動1]
2. [行動2]
```

## 注意点

- 早すぎる最適化を避ける
- 「正解探し」に寄りすぎない
- 発言の少ない人も含めて全員の意見を聞く
- 批判ではなく質問で深掘りする
- 時間制限を設ける（議論し続けない）

## 関連スキル

- [writing-plans](writing-plans.md): ブレスト結果を計画に変換
- [code-review](code-review.md): 実装後レビュー
