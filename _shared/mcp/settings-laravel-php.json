{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "_comment": "Laravel / PHP 開発向け MCP設定",
  "_usage": "このファイルの mcpServers 部分を ~/.claude/settings.json にマージ",

  "mcpServers": {
    "_comment_essential": "=== 必須: Laravel/PHP開発基本MCP ===",

    "filesystem": {
      "_description": "Laravelプロジェクトへのファイルアクセス",
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "C:/path/to/laravel/project"
      ]
    },

    "git": {
      "_description": "Gitリポジトリ操作",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-git"]
    },

    "memory": {
      "_description": "Eloquentモデル構造・ルート情報の記憶",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"]
    },

    "_comment_database": "=== データベース連携 ===",

    "postgres": {
      "_description": "PostgreSQL接続（Laravel DB）",
      "_enabled": true,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "POSTGRES_CONNECTION_STRING": "postgresql://user:password@localhost:5432/laravel_db"
      }
    },

    "mysql": {
      "_description": "MySQL接続（Laravelデフォルト）",
      "_enabled": false,
      "_install": "pip install mcp-server-mysql または uvx mcp-server-mysql",
      "command": "uvx",
      "args": ["mcp-server-mysql"],
      "env": {
        "MYSQL_HOST": "localhost",
        "MYSQL_PORT": "3306",
        "MYSQL_USER": "root",
        "MYSQL_PASSWORD": "password",
        "MYSQL_DATABASE": "laravel_db"
      }
    },

    "_comment_api": "=== API開発 ===",

    "fetch": {
      "_description": "APIエンドポイントテスト",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-fetch"]
    },

    "_comment_advanced": "=== 高度なツール ===",

    "sequential-thinking": {
      "_description": "複雑なビジネスロジック設計",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    },

    "context7": {
      "_description": "Laravel / PHP / Livewire 最新ドキュメントをコンテキストに注入。バージョン差異の解消に有効。INSTRUCTIONS.md に use context7 と書くと自動参照される",
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp"]
    },

    "serena": {
      "_description": "セマンティックコード解析。Eloquent モデルの依存関係・メソッド呼び出しグラフ・シンボル検索が可能",
      "_install": "pip install serena-mcp",
      "_enabled": false,
      "command": "uvx",
      "args": ["serena-mcp", "--project-dir", "."]
    },

    "puppeteer": {
      "_description": "Laravelアプリのブラウザテスト",
      "_enabled": false,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-puppeteer"]
    },

    "_comment_services": "=== 外部サービス連携（オプション） ===",

    "github": {
      "_description": "GitHub Issue/PR管理",
      "_enabled": false,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "ghp_your_token_here"
      }
    }
  },

  "_laravel_tips": {
    "artisan_commands": "Docker環境では: docker compose exec app php artisan {command}",
    "eloquent_models": "memory MCPでモデル構造を記憶させると効率的",
    "api_testing": "fetch MCPでAPIルートをテスト可能",
    "database": "開発環境ではread-only接続を推奨",
    "context7_usage": "Claude へのプロンプトに「use context7」を追加するとドキュメントを自動参照",
    "serena_usage": "serena を有効化するとコードベースのシンボルグラフを解析できる（大規模 Laravel プロジェクトに有効）"
  }
}
