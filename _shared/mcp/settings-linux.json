{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "_comment": "Linux (Ubuntu) 開発向け MCP設定",
  "_usage": "このファイルの mcpServers 部分を ~/.claude/settings.json にマージ",
  "_security_warning": "シェル実行MCPはセキュリティリスクがあります。必ずホワイトリスト制限を設定してください。",

  "mcpServers": {
    "_comment_essential": "=== 必須: Linux開発基本MCP ===",

    "filesystem": {
      "_description": "プロジェクトディレクトリへのファイルアクセス",
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "/home/user/projects"
      ]
    },

    "git": {
      "_description": "Gitリポジトリ操作",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-git"]
    },

    "memory": {
      "_description": "サーバー構成・スクリプト情報の記憶",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"]
    },

    "_comment_shell": "=== シェルコマンド実行（セキュリティ注意） ===",

    "shell-secure": {
      "_description": "セキュアなシェルコマンド実行（ホワイトリスト制限）",
      "_security": "CRITICAL: ALLOWED_COMMANDSを必ず設定",
      "_enabled": true,
      "command": "uvx",
      "args": ["cli-mcp-server"],
      "env": {
        "ALLOWED_COMMANDS": "ls,cat,grep,find,pwd,echo,head,tail,wc,sort,uniq,git,npm,yarn,python,pip,docker,kubectl",
        "ALLOWED_DIRECTORIES": "/home/user/projects,/tmp",
        "COMMAND_TIMEOUT": "30",
        "ALLOW_SHELL_OPERATORS": "false"
      }
    },

    "shell-full": {
      "_description": "フルアクセスシェル（危険 - 開発環境のみ）",
      "_security": "WARNING: 本番環境では絶対に使用しないこと",
      "_enabled": false,
      "command": "npx",
      "args": ["-y", "@patrickomatik/mcp-bash"]
    },

    "_comment_docker": "=== コンテナ管理 ===",

    "docker": {
      "_description": "Dockerコンテナ操作",
      "_enabled": true,
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-server-docker"]
    },

    "_comment_database": "=== データベース連携 ===",

    "postgres": {
      "_description": "PostgreSQL接続",
      "_enabled": false,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "POSTGRES_CONNECTION_STRING": "postgresql://user:password@localhost:5432/linux_db"
      }
    },

    "sqlite": {
      "_description": "SQLite（ローカルDB）",
      "_enabled": false,
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-sqlite",
        "--db-path",
        "/path/to/database.db"
      ]
    },

    "_comment_advanced": "=== 高度なツール ===",

    "sequential-thinking": {
      "_description": "複雑なシェルスクリプト・インフラ設計",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    },

    "fetch": {
      "_description": "API連携・Webデータ取得",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-fetch"]
    },

    "_comment_services": "=== 外部サービス連携（オプション） ===",

    "github": {
      "_description": "GitHub Issue/PR管理",
      "_enabled": false,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "ghp_your_token_here"
      }
    }
  },

  "_shell_mcp_security_guide": {
    "principle": "最小権限の原則を適用",
    "whitelist_commands": {
      "safe_read": ["ls", "cat", "head", "tail", "grep", "find", "pwd", "wc"],
      "development": ["git", "npm", "yarn", "python", "pip", "node"],
      "container": ["docker", "docker-compose", "kubectl"],
      "dangerous": ["rm", "mv", "chmod", "chown", "sudo", "apt", "systemctl"]
    },
    "recommendations": [
      "危険なコマンド（rm, sudo等）はホワイトリストに含めない",
      "ディレクトリ制限を必ず設定",
      "タイムアウトを設定（30秒推奨）",
      "シェル演算子（&&, |, >）は無効化を推奨",
      "本番サーバーでは使用しない"
    ]
  },

  "_linux_tips": {
    "systemd": "systemctlコマンドはセキュリティ上、直接ホワイトリストに含めないことを推奨",
    "apt_packages": "apt install はClaude Codeの直接Bash実行を推奨（確認付き）",
    "docker": "docker MCPでコンテナ管理が可能",
    "logs": "ログ分析はfilesystem + shell MCPの組み合わせ",
    "ssh": "SSHリモート操作はセキュリティ上、MCPでは非推奨"
  },

  "_ubuntu_specific": {
    "package_manager": "apt",
    "service_manager": "systemd",
    "common_paths": {
      "web": "/var/www",
      "logs": "/var/log",
      "config": "/etc",
      "home": "/home/user"
    }
  }
}
